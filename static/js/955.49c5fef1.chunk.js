"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[955],{2955:function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});var o=n(5671),s=n(3144),r=n(136),i=n(5716),a=n(2791),l={descriptionBlock:"Profile_descriptionBlock__+fSCO"},c=n(885),u={imgProfileInfo:"ProfileInfo_imgProfileInfo__GfE-V"},d=n(1936),h=n(7375),f=n(9183),p=n(184),x=function(e){var t=(0,a.useState)(!1),n=(0,c.Z)(t,2),o=n[0],s=n[1],r=(0,a.useState)(e.newStatusText),i=(0,c.Z)(r,2),l=i[0],u=i[1];(0,a.useEffect)((function(){u(e.newStatusText)}),[e.newStatusText]);return(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Status: "}),o?(0,p.jsx)("span",{children:(0,p.jsx)("input",{type:"text",value:l,onBlur:function(){s(!1),e.updateStatus&&e.updateStatus(l),u("")},onChange:function(e){u(e.currentTarget.value)},autoFocus:!0})}):(0,p.jsx)("span",{onDoubleClick:function(){s(!0)},children:e.newStatusText||"No status"})]})},j=(0,h.$j)((function(e){return{newStatusText:e.profilePage.newStatusText}}),{updateStatus:f.Nf})(x),m=n(4353),v="Contact_contact__A8014",b=function(e){var t=e.contactTitle,n=e.contactValue;return(0,p.jsxs)("div",{className:v,children:[(0,p.jsxs)("b",{children:[t,":"]})," ",n]})},g=function(e){var t=e.profile,n=e.isOwner,o=e.setEditMode;return(0,p.jsxs)("div",{children:[n&&(0,p.jsx)("div",{children:(0,p.jsx)("button",{onClick:o,children:"EDIT"})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Full name:"})," ",t.fullName]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Looking for a job:"})," ",t.lookingForAJob?"Yes":"No"]}),(0,p.jsx)("div",{children:t.lookingForAJob&&(0,p.jsxs)("span",{children:[(0,p.jsx)("b",{children:"My professional skills:"}),t.lookingForAJobDescription]})}),(0,p.jsx)("div",{children:t.aboutMe&&(0,p.jsxs)("span",{children:[(0,p.jsx)("b",{children:"My personal information:"}),t.aboutMe]})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Contacts:"}),Object.keys(t.contacts).map((function(e){return(0,p.jsx)(b,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})},k=n(5705),y=function(e){var t=e.setEditMode,n=(0,h.I0)(),o=(0,h.v9)((function(e){return e.profilePage.profile})),s=(0,k.TA)({initialValues:{userId:o.userId,lookingForAJob:o.lookingForAJob,lookingForAJobDescription:o.lookingForAJobDescription,fullName:o.fullName,aboutMe:o.aboutMe,contacts:{github:o.contacts.github,vk:o.contacts.vk,facebook:o.contacts.facebook,instagram:o.contacts.instagram,twitter:o.contacts.twitter,website:o.contacts.website,youtube:o.contacts.youtube,mainLink:o.contacts.mainLink}},onSubmit:function(e){n((0,f.Ms)(e)),t()},validate:function(e){var t={};return e.fullName?e.fullName.length>20&&(t.fullName="Must be 20 characters or less"):t.fullName="Required",e.lookingForAJobDescription?e.lookingForAJobDescription.length>1e3&&(t.lookingForAJobDescription="Must be 1000 characters or less"):t.lookingForAJobDescription="Required",e.aboutMe?e.aboutMe.length>1e3&&(t.aboutMe="Must be 1000 characters or less"):t.aboutMe="Required",t}});return(0,p.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,p.jsx)("div",{children:(0,p.jsx)("button",{type:"submit",children:"SAVE"})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Full name:"}),(0,p.jsx)("div",{children:(0,p.jsx)("input",{type:"text",name:"fullName",placeholder:"Enter fullName",onChange:s.handleChange,value:s.values.fullName})}),s.touched.fullName&&s.errors.fullName&&(0,p.jsx)("div",{style:{color:"red"},children:s.errors.fullName})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Looking for a job:"}),(0,p.jsx)("div",{children:(0,p.jsx)("input",{type:"checkbox",name:"lookingForAJob",onChange:s.handleChange,checked:s.values.lookingForAJob})})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"My professional skills:"}),(0,p.jsx)("div",{children:(0,p.jsx)("textarea",{name:"lookingForAJobDescription",placeholder:"Enter professional skills",onChange:s.handleChange,value:s.values.lookingForAJobDescription})}),s.touched.lookingForAJobDescription&&s.errors.lookingForAJobDescription&&(0,p.jsx)("div",{style:{color:"red"},children:s.errors.lookingForAJobDescription})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"My personal information:"}),(0,p.jsx)("div",{children:(0,p.jsx)("textarea",{name:"aboutMe",placeholder:"Enter personal information",onChange:s.handleChange,value:s.values.aboutMe})}),s.touched.aboutMe&&s.errors.aboutMe&&(0,p.jsx)("div",{style:{color:"red"},children:s.errors.aboutMe})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Contacts:"}),Object.keys(o.contacts).map((function(e){return(0,p.jsxs)("div",{children:[(0,p.jsxs)("b",{children:[e,":"]}),(0,p.jsx)("div",{children:(0,p.jsx)("input",{type:"text",name:"contacts."+e,placeholder:e,onChange:s.handleChange,value:s.values.contacts[e]})})]},e)}))]})]})},C=function(e){var t=e.profile,n=e.isOwner,o=e.savePhoto,s=(0,a.useState)(!1),r=(0,c.Z)(s,2),i=r[0],l=r[1],h=function(){l(!i)};return(0,p.jsxs)("div",{children:[" ",t?(0,p.jsxs)("div",{className:u.descriptionBlock,children:[(0,p.jsx)("div",{className:u.imgProfileInfo,children:(0,p.jsx)("img",{src:t.photos.large||m})}),n&&(0,p.jsx)("input",{type:"file",onChange:function(e){e.target.files&&e.target.files.length&&o(e.target.files[0])}}),(0,p.jsxs)("div",{children:[i?(0,p.jsx)(y,{setEditMode:h}):(0,p.jsx)(g,{profile:t,setEditMode:h,isOwner:n}),(0,p.jsx)(j,{})]})]}):(0,p.jsx)(d.Z,{})]})},P="MyPost_postBlock__ZZVtG",_="MyPost_posts__WajAW",A="Post_item__Ihm4C",M=a.memo((function(e){return(0,p.jsx)("span",{children:(0,p.jsxs)("div",{className:A,children:[(0,p.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRbNslP7-_P7jz5MrT5yhW14y_IzBDbZZT0ag&usqp=CAU",alt:"no photo"}),e.message,(0,p.jsx)("div",{children:(0,p.jsxs)("span",{children:["Like ",e.likeCount]})})]})})})),N=n(1232),F=n(6139),D=n(4184),S=n(9691),w=(0,D.D)(10),Z=(0,S.Z)("textarea"),J=function(e){return(0,p.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,p.jsx)("div",{children:(0,p.jsx)(F.Z,{placeholder:"Enter your post",name:"newPostBody",component:Z,validate:[D.C,w]})}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{children:"Add post"})})]})},I=(0,N.Z)({form:"profileAddPostForm"})(J),E=a.memo((function(e){var t=e.statePost.map((function(e){return(0,p.jsx)("div",{children:(0,p.jsx)(M,{message:e.message,likeCount:e.likeCount})},e.id)}));return(0,p.jsxs)("div",{className:P,children:[(0,p.jsx)("div",{children:(0,p.jsx)("h2",{children:"My posts"})}),(0,p.jsx)(I,{onSubmit:function(t){e.addPost(t.newPostBody)}}),(0,p.jsx)("div",{className:_,children:t})]})})),T=(0,h.$j)((function(e){return{statePost:e.profilePage.postsData}}),{addPost:f.q2})(E),O=function(e){var t=e.profile,n=e.isOwner,o=e.savePhoto;return(0,p.jsxs)("div",{className:l.profile,children:[(0,p.jsx)(C,{profile:t,isOwner:n,savePhoto:o}),(0,p.jsx)(T,{})]})},q=n(9271),B=n(9866),L=n(7781),R=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(e){return(0,o.Z)(this,n),t.call(this,e)}return(0,s.Z)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=String(this.props.authUserID)),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,p.jsx)(O,{profile:this.props.profile,isOwner:this.props.match.params.userId===String(this.props.authUserID),savePhoto:this.props.savePhoto})}}]),n}(a.Component),V=(0,L.qC)((0,h.$j)((function(e){return{profile:e.profilePage.profile,authUserID:e.auth.userID}}),{getProfile:f.Ai,getStatus:f.lR,savePhoto:f.Ju}),q.EN,B.e)(R)},9691:function(e,t,n){n.d(t,{Z:function(){return u}});var o=n(8683),s=n(5987),r=(n(2791),"FormsControl_textarea__uFRWD"),i="FormsControl_error__RmnLp",a="FormsControl_textError__kzYtc",l=n(184),c=["input","meta"],u=function(e){return function(t){var n=t.input,u=t.meta,d=u.touched,h=u.error,f=(0,s.Z)(t,c),p=d&&h;return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:r+" "+(p?i:""),children:(0,l.jsx)(e,(0,o.Z)((0,o.Z)({},n),f))}),p&&(0,l.jsx)("span",{className:a,children:h})]})}}},9866:function(e,t,n){n.d(t,{e:function(){return u}});var o=n(8683),s=n(5987),r=(n(2791),n(9271)),i=n(7375),a=n(184),l=["isAuth"],c=function(e){return{isAuth:e.auth.isAuth}};function u(e){return(0,i.$j)(c)((function(t){var n=t.isAuth,i=(0,s.Z)(t,l);return n?(0,a.jsx)(e,(0,o.Z)({},i)):(0,a.jsx)(r.l_,{to:"/Login"})}))}},4184:function(e,t,n){n.d(t,{C:function(){return o},D:function(){return s}});var o=function(e){return e?void 0:"Field is required"},s=function(e){return function(t){return t.length>e?"Max length more than ".concat(e," symbols"):void 0}}}}]);
//# sourceMappingURL=955.49c5fef1.chunk.js.map